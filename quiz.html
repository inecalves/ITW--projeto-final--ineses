<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="icon" href="Images/olympics.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap">
    <link href="lib/font-awesome/dist/css/font-awesome.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <style>
        /* Resetando margem e padding para garantir que tudo se alinha corretamente */
        body {
            font-family: 'Open Sans', "sans-serif";
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh; /* Garantir que o corpo ocupe toda a altura da tela */
            justify-content: center; /* Centraliza verticalmente */
            align-items: center; /* Centraliza horizontalmente */
            background-color: #f8f9fa; /* Define um fundo claro para contraste */
        }


        /* Deixa o quiz centralizado */
        .quiz-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            margin: 0; /* Remover margem para centralização */
            flex-grow: 0; /* Evitar que o contêiner cresça mais do que necessário */
        }
        h1 {
            text-align: center;
            color: #4CAF50;
        }

        .question {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            background-color: #f4f4f4;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options li:hover {
            background-color: #ddd;
        }

        .result {
            text-align: center;
            font-size: 18px;
            margin-top: 20px;
            font-weight: bold;
        }

        .final-result {
            margin-top: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        .restart-button {
            text-align: center;
            margin-top: 20px;
        }

        /* Estilos para o footer fixo */
        footer {
            background-color: #f8f9fa;
            padding: 10px 0;
            text-align: center;
            font-size: 14px;
            position: relative;
            width: 100%;
            bottom: 0;
        }

        footer .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        footer .navbar-text {
            font-size: 14px;
        }

        footer .navbar-nav .nav-item {
            margin-left: 10px;
        }
        /* Estilo padrão (modo claro) já existente */

        /* Estilo para modo escuro */
        body[data-bs-theme="dark"] {
            background-color: #121212; /* Fundo escuro */
            color: #ffffff; /* Texto claro */
        }

        body[data-bs-theme="dark"] .quiz-container {
            background-color: #1e1e1e; /* Fundo escuro para o quiz */
            color: #ffffff; /* Texto claro */
            box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1);
        }

        body[data-bs-theme="dark"] .options li {
            background-color: #2a2a2a; /* Fundo escuro para opções */
            color: #ffffff; /* Texto claro */
            border: 1px solid #444; /* Borda visível no escuro */
        }

        body[data-bs-theme="dark"] .options li:hover {
            background-color: #3a3a3a; /* Fundo mais claro ao passar o mouse */
        }

        body[data-bs-theme="dark"] footer {
            background-color: #1e1e1e; /* Fundo escuro para o rodapé */
            color: #ffffff; /* Texto claro */
        }
        body[data-bs-theme="dark"] .final-result {
            color: #ffffff; /* Deixa o texto branco no modo escuro */
        }

        /* Barra de progresso */
        .progress {
            height: 20px;
        }

        .progress-bar {
            transition: width 0.4s ease;
        }

    </style>
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-light bg-body-tertiary fixed-top">
        <div class="container">
            <!-- Logotipo -->
            <a class="navbar-brand" href="index.html"><img src="Images/Paris2024.png" height="40" alt="Logo do Site"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 nav-underline">
                    <!--Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Tabelas Principais
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown2">
                            <li><a class="dropdown-item" href="athletes.html"><i class="fa fa-user text-danger"></i> Atletas</a></li>
                            <li><a class="dropdown-item" href="coaches.html"><i class="fa fa-users text-primary"></i> Treinadores</a></li>
                            <li><a class="dropdown-item" href="technical_officials.html"><i class="fa fa-wrench text-warning"></i> Árbitros | Técnicos</a></li>
                            <hr />
                            <li><a class="dropdown-item" href="teams.html"><i class="fa fa-shield text-info"></i> Equipas</a></li>
                            <hr />
                            <li><a class="dropdown-item" href="sports.html"><i class="fa fa-futbol-o text-secondary"></i> Modalidades</a></li>
                            <li><a class="dropdown-item" href="competitions.html"><i class="fa fa-flag-checkered text-success"></i> Competições</a></li>
                            <hr />
                            <li><a class="dropdown-item" href="index.html"><i class="fa fa-home text-muted"></i> Home | Index</a></li>
                        </ul>
                    </li>
                    <!--Dropdown Torneios-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Torneios
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown2">
                            <li><a class="dropdown-item" href="Athletics.html"> Atletismo</a></li>
                            <li><a class="dropdown-item" href="Basketballs.html"> Basquetebol</a></li>
                            <li><a class="dropdown-item" href="Canoe_Sprints.html"> Canoagem de velocidade</a></li>
                            <li><a class="dropdown-item" href="Cycling_Tracks.html"> Ciclismo de pista</a></li>
                            <li><a class="dropdown-item" href="Footballs.html"> Futebol</a></li>
                            <li><a class="dropdown-item" href="Swimmings.html"> Natação</a></li>
                        </ul>
                    </li>
                    <!--Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Outros
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown2">
                            <li><a class="dropdown-item" href="venues.html"><i class="fa fa-university"></i> Estádios | Espaços</a></li>      
                            <li><a class="dropdown-item" href="torch_route.html"><i class="fa fa-fire text-danger"></i> Percurso da Tocha</a></li>
                            <hr />
                            <li><a class="dropdown-item" href="NOCs.html"><i class="fa fa-globe" style="color: #09712c;"></i> Comités Olímpicos Nacionais</a></li>
                            <hr />
                            <li><a class="dropdown-item" href="countryMedals.html"><i class="fa fa-trophy text-warning"></i> Medalhas por País</a></li>
                        </ul>
                    </li>     
                </ul>
                <!-- Botões de Tema e Carrinho -->
                <ul class="navbar-nav d-flex align-items-center nav-underline" id="bd-theme">
                    <!--Link para os favoritos-->
                    <li class="nav-item">
                        <a class="nav-link" href="favoritos.html"><i class="fa fa-heart text-danger"></i></a>
                    </li>
                    <!-- Link para Quiz -->
                    <li class="nav-item">
                        <a class="nav-link" href="quiz.html">Quiz</a>
                    </li>
                    <!-- Link para Merch -->
                    <li class="nav-item">
                        <a class="nav-link" href="loja.html">Merch</a>
                    </li>
                    <!-- Ícone do Carrinho -->
                    <li class="nav-item">
                        <a class="nav-link position-relative" href="#" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas" aria-controls="cartOffcanvas" title="Carrinho">
                            <i class="fa fa-shopping-cart"></i>
                            <span id="cart-count" class="badge rounded-pill bg-success d-none">0</span>
                        </a>
                    </li>
                    <!-- Separador -->
                    <li class="navbar-text hstack mx-2">
                        <div class="vr"></div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" id="lightMode" type="button" data-bs-theme-value="light" aria-pressed="false">
                            <i class="theme-icon fa fa-sun-o" title="Modo claro"></i>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="nav-link" id="darkMode" type="button" data-bs-theme-value="dark" aria-pressed="false">
                            <i class="theme-icon fa fa-moon-o" title="Modo escuro"></i>
                        </div>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>
    <!--Work Area-->
    <!-- Quiz -->
    <div class="quiz-container">
        <h1>Quiz sobre os Jogos Olímpicos </h1>
        <div class="question">
            <p id="question-text">Carregando...</p>
            <ul class="options" id="options-list">
                <!-- Opções serão carregadas aqui -->
            </ul>
        </div>
        <div class="progress mb-4">
            <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div id="final-result" class="final-result"></div> <!-- Resultado final exibido aqui -->

        <!-- Botão para reiniciar o quiz -->
        <div id="restart-button" class="restart-button" style="display: none;">
            <button class="btn btn-primary" onclick="restartQuiz()">Reiniciar Quiz</button>
        </div>
    </div>

    <!--Scripts -->
    <script>
        let correctAnswersCount = 0;
        let currentQuestionIndex = 0;

        const questions = [
            {
                question: "Onde acontecerão os Jogos Olímpicos de 2024?",
                options: [
                    { text: "Tóquio, Japão", correct: false },
                    { text: "Los Angeles, EUA", correct: false },
                    { text: "Paris, França", correct: true },
                    { text: "Londres, Reino Unido", correct: false }
                ]
            },
            {
                question: "Qual é o símbolo dos Jogos Olímpicos?",
                options: [
                    { text: "Estrela de cinco pontas", correct: false },
                    { text: "Anéis entrelaçados", correct: true },
                    { text: "Fogo", correct: false },
                    { text: "Bola de futebol", correct: false }
                ]
            },
            {
                question: "Quem é o atleta mais medalhado da história dos Jogos Olímpicos?",
                options: [
                    { text: "Michael Phelps", correct: true },
                    { text: "Usain Bolt", correct: false },
                    { text: "Larisa Latynina", correct: false },
                    { text: "Simone Biles", correct: false }
                ]
            },
            {
                question: "Quantos países participaram dos Jogos Olímpicos de 2020?",
                options: [
                    { text: "204 países", correct: true },
                    { text: "180 países", correct: false },
                    { text: "220 países", correct: false },
                    { text: "150 países", correct: false }
                ]
            },
            {
                question: "Qual cidade foi a sede dos Jogos Olímpicos de 2016?",
                options: [
                    { text: "Londres", correct: false },
                    { text: "Rio de Janeiro", correct: true },
                    { text: "Pequim", correct: false },
                    { text: "Sydney", correct: false }
                ]
            },
            {
                question: "Qual país foi o maior vencedor de medalhas nos Jogos Olímpicos de 2020?",
                options: [
                    { text: "Estados Unidos", correct: true },
                    { text: "China", correct: false },
                    { text: "Japão", correct: false },
                    { text: "Rússia", correct: false }
                ]
            }
        ];

        function displayQuestion(index) {
            const questionContainer = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-list');

            // Limpa as opções anteriores
            optionsContainer.innerHTML = '';

            // Exibe a nova pergunta
            questionContainer.textContent = questions[index].question;

            // Exibe as opções
            questions[index].options.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option.text;
                li.dataset.correct = option.correct;
                optionsContainer.appendChild(li);
            });
        }

        function handleOptionClick(event) {
            const clickedOption = event.target;

            if (clickedOption.tagName === 'LI') {
                const isCorrect = clickedOption.dataset.correct === 'true';
                clickedOption.style.backgroundColor = isCorrect ? '#4CAF50' : '#f44336';

                if (isCorrect) {
                    correctAnswersCount++;
                }

                // Desabilita as opções após uma escolha
                const options = clickedOption.parentElement.querySelectorAll('li');
                options.forEach(option => option.style.pointerEvents = 'none');
                
                // Avança para a próxima pergunta
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        displayQuestion(currentQuestionIndex);
                    } else {
                        document.getElementById('final-result').innerHTML = `Você acertou ${correctAnswersCount} de ${questions.length} perguntas!`;
                        document.getElementById('restart-button').style.display = 'block'; // Mostra o botão de reiniciar
                    }
                }, 1000);
            }
        }


        function updateProgressBar() {
            const progressBar = document.getElementById('progress-bar');
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = progress + '%';
            progressBar.setAttribute('aria-valuenow', progress);
        }

        // Atualize a barra de progresso sempre que uma nova pergunta for exibida
        function displayQuestion(index) {
            const questionContainer = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-list');

            // Atualizar barra de progresso
            updateProgressBar();

            // Limpa as opções anteriores
            optionsContainer.innerHTML = '';

            // Exibe a nova pergunta
            questionContainer.textContent = questions[index].question;

            // Exibe as opções
            questions[index].options.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option.text;
                li.dataset.correct = option.correct;
                optionsContainer.appendChild(li);
            });
        }


        function restartQuiz() {
            correctAnswersCount = 0;
            currentQuestionIndex = 0;
            document.getElementById('final-result').innerHTML = ''; // Limpa o resultado final
            document.getElementById('restart-button').style.display = 'none'; // Esconde o botão de reiniciar
            displayQuestion(currentQuestionIndex); // Exibe a primeira pergunta novamente
        }

        // Inicializa a primeira pergunta
        displayQuestion(currentQuestionIndex);

        // Adiciona o evento de clique nas opções
        document.querySelector('.options').addEventListener('click', handleOptionClick);
    </script>
    
    
    <script src="lib/knockout/dist/knockout-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"
    integrity="sha256-hlKLmzaRlE8SCJC1Kw8zoUbU8BxA+8kR3gseuKfMjxA="
    crossorigin="anonymous"></script>
    <script src="darkmode.js"></script>
</body>
</html>